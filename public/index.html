<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
    <title>Math Practice Game</title>
    <link rel="stylesheet" href="style.css?v=1.0.1">
</head>
<body>
    <!-- Header with Username and Logout -->
    <div id="header" class="header hidden">
        <span id="currentUsername">Player</span>
        <button id="logoutBtn" class="logout-btn">Log out</button>
    </div>

    <!-- Login Container (replaces main container when visible) -->
    <div id="loginScreen" class="login-screen-container">
        <div class="login-container">
            <h2>Enter Your Username</h2>
            <input type="text" id="usernameInput" class="username-input" placeholder="Enter username" maxlength="20">
            <button id="loginBtn" class="login-btn">Start Playing</button>
        </div>
    </div>

    <!-- Main Game Container -->
    <div class="container hidden" id="mainContainer">
        <h1>Math Practice Game</h1>
        
        <!-- Mode Selection Screen -->
        <div id="modeSelectionScreen">
            <div class="mode-selection">
                <button id="additionBtn" class="mode-btn addition-btn">Addition</button>
                <button id="multiplicationBtn" class="mode-btn multiplication-btn">Multiplication</button>
                <button id="subtractionBtn" class="mode-btn subtraction-btn">Subtraction</button>
                <button id="divisionBtn" class="mode-btn division-btn">Division</button>
                <button id="mixedBtn" class="mode-btn mixed-btn">Mixed</button>
            </div>
            <div class="negative-toggle-container">
                <button id="negativeToggleBtn" class="negative-toggle-btn">Negative Numbers: OFF</button>
            </div>
        </div>

        <!-- Operation Mode Selection Screen -->
        <div id="operationModeScreen" class="hidden">
            <h2 id="operationTitle">Choose Mode</h2>
            <div class="operation-mode-selection">
                <button id="miniModeBtn" class="mode-btn mini-btn">Mini Version</button>
                <button id="levelModeBtn" class="mode-btn level-btn">Level Mode</button>
                <button id="backToModesBtn" class="mode-btn back-btn">Back to Modes</button>
            </div>
        </div>

        <!-- Game Screen -->
        <div id="gameScreen" class="hidden">
            <!-- Dinosaur with Medal -->
            <div class="dinosaur-container">
                <img src="dino.png" alt="Dinosaur" class="dino" id="dinosaurImage" />
                <div class="medal gray" id="medal">5</div>
            </div>
            
            <div class="game-header">
                <div>
                    <div class="mode-display" id="modeDisplay">Mode</div>
                    <div class="level-display" id="levelDisplay"></div>
                    <div class="score">Score: <span id="score">0</span></div>
                </div>
                <div class="game-header-right">
                    <div class="timer" id="timer">15</div>
                    <button id="giveUpBtn" class="give-up-btn">Give Up</button>
                </div>
            </div>
            <div class="question" id="question"></div>
            
            <div class="answer-section">
                <input type="text" id="answerInput" class="answer-input" placeholder="Your answer">
                <button id="submitBtn" class="submit-btn">Submit</button>
            </div>
            
            <!-- Number Keyboard -->
            <div class="number-keyboard">
                <button class="number-btn" data-number="1">1</button>
                <button class="number-btn" data-number="2">2</button>
                <button class="number-btn" data-number="3">3</button>
                <button class="number-btn" data-number="4">4</button>
                <button class="number-btn" data-number="5">5</button>
                <button class="number-btn" data-number="6">6</button>
                <button class="number-btn" data-number="7">7</button>
                <button class="number-btn" data-number="8">8</button>
                <button class="number-btn" data-number="9">9</button>
                <button class="number-btn" data-number="-">-</button>
                <button class="number-btn clear-btn" id="clearBtn">Clear</button>
                <button class="number-btn" data-number="0">0</button>
            </div>
        </div>

        <!-- Game Over Screen -->
        <div id="gameOverScreen" class="hidden">
            <div class="game-over" id="gameOverMessage"></div>
            <div class="game-buttons">
                <button id="playAgainBtn" class="play-again-btn">Play Again</button>
                <button id="switchModeBtn" class="switch-mode-btn">Switch Mode</button>
            </div>
            <!-- Dinosaur with Medal for End Screen - positioned below buttons -->
            <div class="dinosaur-container" style="position: relative; top: auto; left: auto; transform: none; margin: 20px auto 0;">
                <img src="dino.png" alt="Dinosaur" class="dino" id="endScreenDinosaur" />
                <div class="medal gray" id="endScreenMedal">5</div>
            </div>
        </div>
    </div>

    <script type="module" src="firebase-config.js?v=1.0.1"></script>
    <script type="module" src="score-service.js?v=1.0.1"></script>
    <script type="module" src="user-service.js?v=1.0.1"></script>
    <script type="module" src="user.js?v=1.0.1"></script>
    <script type="module" src="ui.js?v=1.0.1"></script>
    <script type="module" src="leaderboard.js?v=1.0.1"></script>
    <script type="module" src="main.js?v=1.0.1"></script>
</body>
</html>
